<div class="container">
    <h1 class="mt-3">
        Editar Movimiento
    </h1>
    <ng-container *ngIf="movement; else notFound">
        <form #form="ngForm" (ngSubmit)="onFormSubmit()">
            <div class="row mb-3">
                <div class="col">
                    <label for="movementType"> Tipo de Movimiento</label>
                    <input type="text" class="form-control" name="movementType" id="movementType" [(ngModel)]="movement.movementType" disabled>

                    

                    
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="date">Fecha</label>
                    <input type="text" class="form-control" name="date" id="date" 
                    [ngModel]="movement.date | date:'dd/MM/yyyy'" disabled>
                </div>
                <div class="col-md-6">
                    <label for="asset">Moneda</label>
                    <input type="text" class="form-control" name="asset" id="asset" [(ngModel)]="movement.assetName" disabled>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="account">Cuenta</label>
                    <input type="text" class="form-control" name="account" id="account" [(ngModel)]="movement.accountName" disabled>
                </div>
                <div class="col-md-6">
                    <label for="transactionClass">Clase de Movimiento</label>
                    <input type="text" class="form-control" name="transactionClass" id="transactionClass" [(ngModel)]="movement.transactionClassName" disabled>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col">
                    <label for="amount">Monto</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">$</span>
                        </div>
                        <input type="text" class="form-control" name="amount" id="amount" [(ngModel)]="movement.amount" appCurrencyInput>
                    </div>
                    <div *ngIf="form.controls['amount']?.errors?.['incorrect'] && form.controls['amount'].touched" class="text-danger mt-2">
                        El monto debe ser un número válido mayor que 0.
                    </div>

                </div>

                <div class="row mb-3">
            
                    <div class="mt-1">
                        <button type="submit" class="btn btn-primary m-1">Guardar</button>
                        <a class="btn btn-secondary" [routerLink]="['/movements']">Volver</a>
                    </div>                             
                </div>
            </div>
        </form>
    </ng-container>


    <ng-template #notFound>
        <div class="alert alert-warning" role="alert">
            El movimiento no ha sido encontrada.
          </div>
    </ng-template>
</div>