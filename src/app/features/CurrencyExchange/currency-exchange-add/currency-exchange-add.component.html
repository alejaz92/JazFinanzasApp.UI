<div class="container">
    <h1 class="mt-3">Crear Intercambio de Monedas</h1>

    <div class="alert alert-success" *ngIf="successMessage">
        {{ successMessage }}
    </div>
    <div class="alert alert-danger" *ngIf="errorMessage">
        {{ errorMessage }}
    </div>
    <form 
        [formGroup]="currencyExchangeForm"
        (ngSubmit)="onSubmit()"
    >
        <div class="row mb-3">
            <div class="col-md-12">
                <label class="form-label" for="date">Fecha</label>
                <input type="date" class="form-control" id="date" formControlName="date">
                <div class="text-danger mt-2" *ngIf="currencyExchangeForm.controls['date'].errors?.['incorrect']">
                    Debe seleccionarse una fecha.
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-12">
                <h4>Egreso</h4>
            </div>
            <div class="col-md-6">
                <label class="form-label" for="expenseAsset">Activo</label>
                <select id="expenseAsset" class="form-control" formControlName="expenseAsset">
                    <option value="" disabled selected>Seleccione</option>
                    <option *ngFor="let asset of assets" [value]="asset.id">{{ asset.name }}</option>
                </select>
                <div class="text-danger mt-2" *ngIf="currencyExchangeForm.controls['expenseAsset'].errors?.['incorrect']">
                    Debe seleccionarse un activo.
                </div>
            </div>
            <div class="col-md-6">
                <label class="form-label" for="expenseAccount">Cuenta</label>
                <select id="expenseAccount" class="form-control" formControlName="expenseAccount">
                    <option value="" disabled selected>Seleccione</option>
                    <option *ngFor="let account of accounts" [value]="account.id">{{ account.name }}</option>
                </select>
                <div class="text-danger mt-2" *ngIf="currencyExchangeForm.controls['expenseAccount'].errors?.['incorrect']">
                    Debe seleccionarse una cuenta.
                </div>
            </div>
            <div class="col-md-6">
                <label class="form-label" for="expenseAmount">Monto</label>
                <input type="text" class="form-control" id="expenseAmount" formControlName="expenseAmount" appCurrencyInput>
                <div class="text-danger mt-2" *ngIf="currencyExchangeForm.controls['expenseAmount'].errors?.['incorrect']">
                    Debe ingresarse un monto.
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-12">
                <h4>Ingreso</h4>
            </div>
            <div class="col-md-6">
                <label class="form-label" for="incomeAsset">Activo</label>
                <select id="incomeAsset" class="form-control" formControlName="incomeAsset">
                    <option value="" disabled selected>Seleccione</option>
                    <option *ngFor="let asset of assets" [value]="asset.id">{{ asset.name }}</option>
                </select>
                <div class="text-danger mt-2" *ngIf="currencyExchangeForm.controls['incomeAsset'].errors?.['incorrect']">
                    Debe seleccionarse un activo.
                </div>
            </div>
            <div class="col-md-6">
                <label class="form-label" for="incomeAccount">Cuenta</label>
                <select id="incomeAccount" class="form-control" formControlName="incomeAccount">
                    <option value="" disabled selected>Seleccione</option>
                    <option *ngFor="let account of accounts" [value]="account.id">{{ account.name }}</option>
                </select>
                <div class="text-danger mt-2" *ngIf="currencyExchangeForm.controls['incomeAccount'].errors?.['incorrect']">
                    Debe seleccionarse una cuenta.
                </div>
            </div>
            <div class="col-md-6">
                <label class="form-label" for="incomeAmount">Monto</label>
                <input type="text" class="form-control" id="incomeAmount" formControlName="incomeAmount" appCurrencyInput>
                <div class="text-danger mt-2" *ngIf="currencyExchangeForm.controls['incomeAmount'].errors?.['incorrect']">
                    Debe ingresarse un monto.
                </div>
            </div>
        </div>
        <div class="d-flex">
            <button type="submit" class="btn btn-primary m-1">Guardar</button>
            <a class="btn btn-secondary m-1" [routerLink]="['/currencyExchange']">Volver</a>
        </div>
    </form>

</div>